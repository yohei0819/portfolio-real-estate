// ==========================================
// ページ遷移アニメーション
// ==========================================

.page-transition
  position fixed
  top 0
  left 0
  width 100%
  height 100%
  z-index 9999
  pointer-events none

  &__layer
    position absolute
    top 0
    left 0
    width 100%
    height 100%
    background $primary
    transform scaleY(0)
    transform-origin bottom

// ローディング
.loading
  position fixed
  top 0
  left 0
  width 100%
  height 100%
  z-index 10000
  background $bg-white
  flex-center()
  flex-direction column
  transition opacity 0.3s ease

  &.is-hidden
    opacity 0
    pointer-events none

  &__logo
    font-size $font-size-3xl
    font-weight bold
    color $primary
    margin-bottom 20px
    letter-spacing 3px

  &__bar
    width 200px
    height 3px
    background $border-light
    border-radius 3px
    overflow hidden

  &__progress
    width 0
    height 100%
    background $primary
    border-radius 3px
    transition width 0.3s ease

// トップへ戻るボタン
.back-to-top
  position fixed
  bottom 30px
  right 30px
  width 48px
  height 48px
  flex-center()
  background $primary
  color #fff
  border-radius 50%
  font-size 20px
  cursor pointer
  opacity 0
  visibility hidden
  transform translateY(20px)
  transition all $transition-base
  z-index 100
  box-shadow $shadow-md

  &.is-visible
    opacity 1
    visibility visible
    transform translateY(0)

  &:hover
    background $primary-dark
    transform translateY(-4px)

// カーソルフォロワー（デモ用）
.cursor-follower
  position fixed
  width 20px
  height 20px
  border 2px solid $primary
  border-radius 50%
  pointer-events none
  z-index 9998
  transition transform 0.1s ease
  mix-blend-mode difference

  +sp()
    display none

  &.is-hover
    transform scale(2.5)
    background rgba($primary, 0.1)
